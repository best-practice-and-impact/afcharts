[{"path":[]},{"path":"https://best-practice-and-impact.github.io/afcharts/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"afcharts Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, colour, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"afcharts Code of Conduct","text":"afcharts cross-government collaboration. encourage contributors act accordance highest standards professional conduct, adhere Civil Service Code. expect contributors avoid engaging political activity discussion forums relating project. Examples behaviour contributes positive environment community include: - Demonstrating empathy kindness toward people - respectful differing opinions, viewpoints, experiences - Giving gracefully accepting constructive feedback - Accepting responsibility apologizing affected mistakes, learning experience - Focusing best just us individuals, overall community Examples unacceptable behaviour include: - use sexualized language imagery, sexual attention advances kind - Trolling, insulting derogatory comments, personal political attacks - Harassment nature - Publishing others’ private information, physical email address, without explicit permission - conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"afcharts Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behaviour may reported community leaders responsible enforcement ASAP@ons.gov.uk. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"Enforcement","what":"Enforcement Responsibilities","title":"afcharts Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behaviour take appropriate action response behaviour deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"Enforcement","what":"Enforcement Guidelines","title":"afcharts Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement > Enforcement Guidelines","what":"1. Correction","title":"afcharts Code of Conduct","text":"Community Impact: Use inappropriate language behaviour deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behaviour inappropriate. public apology may requested.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement > Enforcement Guidelines","what":"2. Warning","title":"afcharts Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behaviour. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement > Enforcement Guidelines","what":"3. Temporary Ban","title":"afcharts Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behaviour. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement > Enforcement Guidelines","what":"4. Permanent Ban","title":"afcharts Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behaviour, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"afcharts Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"afcharts Code of Conduct","text":"Code Conduct adapted Contributor Covenant v2.1, Duck Book Code Conduct. Community Impact Guidelines inspired Mozilla’s code conduct enforcement ladder. answers common questions code conduct, see FAQs associated translations.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to afcharts","title":"Contributing to afcharts","text":"outlines propose change afcharts.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to afcharts","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to afcharts","text":"want make bigger change, ’s good idea first file issue make sure package maintainers agree ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to afcharts","text":"work Government Analysis Function, request write access repository contacting package maintainers. external, fork repository. Clone repository onto computer crate Git branch changes. Make changes, commit git, create PR. title PR briefly describe change. body PR contain Fixes #issue-number. means issue automatically close PR merged. Add package maintainers PR reviewers. user-facing changes, add bullet top NEWS.md (.e. just first header). Add ‘Authors’ section DESCRIPTION file. rule thumb, please assign role author (\"aut\") writing exported function, contributor (\"ctb\") anything else.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to afcharts","text":"New code follow tidyverse style guide. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 Crown Copyright Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/SUPPORT.html","id":null,"dir":"","previous_headings":"","what":"Getting help with afcharts","title":"Getting help with afcharts","text":"Thanks using afcharts!","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/SUPPORT.html","id":"try-these-first","dir":"","previous_headings":"","what":"Try these first","title":"Getting help with afcharts","text":"want find afcharts’s functions; help files can found References page package website. Alternatively, type ?function_name RStudio console. example: need help ggplot2, might helpful look afcharts cookbook contains lots example code create various types chart. ggplot2 website may also helpful.","code":"?theme_af()"},{"path":"https://best-practice-and-impact.github.io/afcharts/SUPPORT.html","id":"where-to-ask-for-help","dir":"","previous_headings":"","what":"Where to ask for help","title":"Getting help with afcharts","text":"’s bug: file issue GitHub. ’re sure aren’t comfortable either options, contact package maintainers. opening new issue, sure search issues pull requests make sure bug hasn’t reported /already fixed development version. default, search pre-populated :issue :open. can edit qualifiers (e.g. :pr, :closed) needed. example, ’d simply remove :open search issues repo, open closed.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/SUPPORT.html","id":"how-to-ask-for-help","dir":"","previous_headings":"","what":"How to ask for help","title":"Getting help with afcharts","text":"Try explain problem clearly possible. involve explaining trying expected actual behaviour code . can useful include minimal reproducible example (reprex) using reprex package. help using reprex, see Get help section tidyverse site. able reproduce problem greatly increases chances us able help .","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/accessibility.html","id":"resources","dir":"Articles","previous_headings":"","what":"Resources","title":"Accessibility","text":"Government Analysis Function published variety resources producing accessible data visualisations: Charts Checklist Charts Guidance Colours Guidance Data Visualisation e-Learning (particular Accessibility Colour module) afcharts developed following advice guidance, however, using afcharts guarantee accessibility. afcharts therefore used conjunction guidance.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/accessibility.html","id":"accessibility-of-charts-using-afcharts","dir":"Articles","previous_headings":"","what":"Accessibility of charts using afcharts","title":"Accessibility","text":"applying theme_af ggplot2 plots, following best practice followed: Plot background white. Axis lines ticks light grey (#595959). default, x axis shown can controlled using axis ticks arguments. Grid lines light grey (#595959) kept minimum; default major y axis lines shown, can controlled using grid argument. Text black, uses Sans Serif font size 12 default. Text size can controlled using base_size argument. text horizontal. Line thickness relative font size. afcharts provides colour palettes set Government Analysis Function Colour Guidance. palettes developed meet Web Content Accessibility Guidelines 2.1 graphical objects can applied charts using one four colour/fill functions: scale_colour_discrete_af() scale_fill_discrete_af() scale_colour_continuous_af() scale_fill_continuous_af() information afcharts colours can found vignette(\"colours\").","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/accessibility.html","id":"other-accessibility-considerations","dir":"Articles","previous_headings":"","what":"Other accessibility considerations","title":"Accessibility","text":"Using afcharts guarantee accessibility. Government Analysis Function chart guidance contains detailed information considerations made. repeated , think following good place start: Consider type chart best convey message. Keep simple possible. Plot titles provided body page, embedded within image plot. pose risk plot image re-shared without title losing context, however usually preferable prioritise accessibility. plots must alt text (may code behind image plot, also table data text description message chart presenting). Take great care using stacked bar chart. Keep number categories minimum, carefully consider order categories bars. horizontal text difficult read (example, axis labels overlapping), consider different chart orientation type. using bar chart, gap bars narrower width single bar. R Graphics cookbook describes . Use commas thousands separators axis labels text annotations. Ask feedback colleagues users.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/colours.html","id":"things-to-consider-when-using-colour","dir":"Articles","previous_headings":"","what":"Things to consider when using colour","title":"Colours","text":"Using afcharts colour palettes guarantee charts accessible. Government Analysis Function published guidance steps take ensure accessible use colour. afcharts used conjunction advice given guidance documents. following key things consider using colour data visualisations: use colour absolutely necessary rely colour alone communicate message Use colour consistently producing series plots Limit number different colours use; ideally absolute maximum four Use colour palettes order presented ensure adjacent colours sufficient contrast ","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/colours.html","id":"government-analysis-function-colour-palettes","dir":"Articles","previous_headings":"","what":"Government Analysis Function colour palettes","title":"Colours","text":"Government Analysis Function guidance also contains suggested colour palettes. provided afcharts. use Analysis Function palette, set palette_type = \"af\" using scale_ colour functions.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/colours.html","id":"main-palette","dir":"Articles","previous_headings":"Government Analysis Function colour palettes","what":"Main palette","title":"Colours","text":"main palette used categorical data. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data. main2 palette used two colours required dark blue orange colours best colour contrast . two colours required another palette main family used, main2 used instead. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data. main6 palette available extended palette required. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/colours.html","id":"sequential-palette","dir":"Articles","previous_headings":"Government Analysis Function colour palettes","what":"Sequential palette","title":"Colours","text":"sequential colour palette used data order meaning. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data. palette restricted tints one colour, issues colour contrast. Follow advice using sequential palette Government Analysis Function colour guidance using palette.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/colours.html","id":"focus-palette","dir":"Articles","previous_headings":"Government Analysis Function colour palettes","what":"Focus palette","title":"Colours","text":"focus palette used highlight specific elements plot. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data. light grey colour palette sufficient colour contrast white background therefore palette used essential communicate message. Follow advice using focus palette Government Analysis Function colour guidance using palette.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/colours.html","id":"using-your-own-colour-palette","dir":"Articles","previous_headings":"","what":"Using your own colour palette","title":"Colours","text":"may instances ’d like use different colour palette. , carefully considered ensure meets accessibility requirements. Government Analysis Function guidance outlines appropriate steps choosing accessibile colour palette used. example use alternative colour palette provided cookbook. However, use different palette regularly feel useful added afcharts, please make suggestion per contributing guidance.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/colours.html","id":"viewing-palettes-in-r","dir":"Articles","previous_headings":"","what":"Viewing Palettes in R","title":"Colours","text":"Names hex codes available colours palettes can viewed running following code: Examples apply palettes ggplot2 charts available cookbook reference files scale_ colour functions.","code":"# View names and hex codes for all colours afcharts::af_colour_values  # View names and hex codes for all colour palettes afcharts::af_colour_palettes  # View names and hex codes for `main` colour palette afcharts::af_colour_palettes$main"},{"path":[]},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"line-chart-with-one-line","dir":"Articles","previous_headings":"Line charts","what":"Line chart with one line","title":"Cookbook","text":"","code":"gapminder |>   filter(country == \"United Kingdom\") |>   ggplot(aes(x = year, y = lifeExp)) +   geom_line(linewidth = 1, colour = af_colour_values[\"dark-blue\"]) +   theme_af() +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(breaks = seq(1952, 2007, 5)) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom 1952-2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"line-chart-with-multiple-lines","dir":"Articles","previous_headings":"Line charts","what":"Line chart with multiple lines","title":"Cookbook","text":"example line labels legend can found Adding annotations section.","code":"gapminder |>   filter(country %in% c(\"United Kingdom\", \"China\")) |>   ggplot(aes(x = year, y = lifeExp, colour = country)) +   geom_line(linewidth = 1) +   theme_af(legend = \"bottom\") +   scale_colour_discrete_af() +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(breaks = seq(1952, 2007, 5)) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom and China 1952-2007\",     caption = \"Source: Gapminder\",     colour = NULL   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"bar-charts","dir":"Articles","previous_headings":"","what":"Bar charts","title":"Cookbook","text":"bar chart can sometimes look better horizontal bars. can also good option bar labels long difficult display horizontally x axis. produce horizontal bar chart, swap variables defined x y aes() make tweaks theme_af(); draw grid lines x axis setting grid argument, draw axis line y axis setting axis argument.","code":"bar_data <-   gapminder |>   filter(year == 2007 & continent == \"Europe\") |>   slice_max(order_by = lifeExp, n = 5) ggplot(bar_data, aes(x = reorder(country, -lifeExp), y = lifeExp)) +   geom_col(fill = af_colour_values[\"dark-blue\"]) +   theme_af() +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = NULL,     title = \"Iceland has the highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   ) ggplot(bar_data, aes(x = lifeExp, y = reorder(country, lifeExp))) +   geom_col(fill = af_colour_values[\"dark-blue\"]) +   theme_af(grid = \"x\", axis = \"y\") +   scale_x_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = NULL,     title = \"Iceland has the highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"grouped-bar-chart","dir":"Articles","previous_headings":"Bar charts","what":"Grouped bar chart","title":"Cookbook","text":"create grouped bar chart, set stat = \"identity\" position = \"dodge\" call geom_bar(). Also assign variable fill within aes() determine variable used create bars within groups. legend argument theme_af() can used set position legend.","code":"grouped_bar_data <-   gapminder |>   filter(year %in% c(1967, 2007) &            country %in% c(\"United Kingdom\", \"Ireland\", \"France\", \"Belgium\"))  ggplot(grouped_bar_data,        aes(x = country, y = lifeExp, fill = as.factor(year))) +   geom_bar(stat = \"identity\", position = \"dodge\") +   scale_y_continuous(expand = c(0, 0)) +   theme_af(legend = \"bottom\") +   scale_fill_discrete_af() +   labs(     x = \"Country\",     y = NULL,     fill = NULL,     title = \"Living longer\",     subtitle = \"Difference in life expectancy, 1967-2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"stacked-bar-chart","dir":"Articles","previous_headings":"Bar charts","what":"Stacked bar chart","title":"Cookbook","text":"create stacked bar chart, set stat = \"identity position = \"fill\" call geom_bar() assign variable fill . plot data part--whole. plot counts, set position = \"identity\". Caution taken producing stacked bar charts. can quickly become difficult interpret plotting non part--whole data, /plotting two categories per stack. First last categories stack always easier compare across bars middle. Think carefully story trying tell chart.","code":"stacked_bar_data <-   gapminder |>   filter(year == 2007) |>   mutate(lifeExpGrouped = cut(lifeExp,                               breaks = c(0, 75, Inf),                               labels = c(\"Under 75\", \"75+\"))) |>   group_by(continent, lifeExpGrouped) |>   summarise(n_countries = n(), .groups = \"drop\")  ggplot(stacked_bar_data,        aes(x = continent, y = n_countries, fill = lifeExpGrouped)) +   geom_bar(stat = \"identity\", position = \"fill\") +   theme_af(legend = \"bottom\") +   scale_y_continuous(expand = c(0, 0), labels = scales::percent) +   coord_cartesian(clip = \"off\") +   scale_fill_discrete_af() +   labs(     x = NULL,     y = NULL,     fill = \"Life Expectancy\",     title = \"How life expectancy varies across continents\",     subtitle = \"Percentage of countries by life expectancy band, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"histograms","dir":"Articles","previous_headings":"","what":"Histograms","title":"Cookbook","text":"","code":"gapminder |>   filter(year == 2007) |>   ggplot(aes(x = lifeExp)) +   geom_histogram(binwidth = 5,                  colour = \"white\",                  fill = af_colour_values[\"dark-blue\"]) +   theme_af() +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = \"Number of \\ncountries\",     title = \"How life expectancy varies\",     subtitle = \"Distribution of life expectancy, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"scatterplots","dir":"Articles","previous_headings":"","what":"Scatterplots","title":"Cookbook","text":"","code":"gapminder |>   filter(year == 2007) |>   ggplot(aes(x = gdpPercap, y = lifeExp, size = pop)) +   geom_point(colour = af_colour_values[\"dark-blue\"]) +   theme_af(axis = \"none\", grid = \"xy\") +   scale_x_continuous(     labels = function(x) scales::dollar(x, prefix = \"£\")   ) +   scale_size_continuous(labels = scales::comma) +   labs(     x = \"GDP\",     y = \"Life\\nExpectancy\",     size = \"Population\",     title = stringr::str_wrap(       \"The relationship between GDP and Life Expectancy is complex\", 40     ),     subtitle = \"GDP and Life Expectancy for all countires, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"small-multiples","dir":"Articles","previous_headings":"","what":"Small multiples","title":"Cookbook","text":"","code":"gapminder |>   filter(continent != \"Oceania\") |>   group_by(continent, year) |>   summarise(pop = sum(as.numeric(pop)), .groups = \"drop\") |>   ggplot(aes(x = year, y = pop, fill = continent)) +   geom_area() +   theme_af(axis = \"none\", ticks = \"none\", legend = \"none\") +   scale_fill_discrete_af() +   facet_wrap(~ continent, ncol = 2) +   scale_y_continuous(breaks = c(0, 2e9, 4e9),                      labels = c(0, \"2bn\", \"4bn\")) +   coord_cartesian(clip = \"off\") +   theme(axis.text.x = element_blank()) +   labs(     x = NULL,     y = NULL,     title = \"Asia's rapid growth\",     subtitle = \"Population growth by continent, 1952-2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"pie-charts","dir":"Articles","previous_headings":"","what":"Pie charts","title":"Cookbook","text":"","code":"stacked_bar_data |>   filter(continent == \"Europe\") |>   ggplot(aes(x = \"\", y = n_countries, fill = lifeExpGrouped)) +   geom_col(colour = \"white\", position = \"fill\") +   coord_polar(theta = \"y\") +   theme_af(grid = \"none\", axis = \"none\", ticks = \"none\") +   theme(axis.text = element_blank()) +   scale_fill_discrete_af() +   labs(     x = NULL,     y = NULL,     fill = NULL,     title = \"How life expectancy varies in Europe\",     subtitle = \"Percentage of countries by life expectancy band, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"focus-charts","dir":"Articles","previous_headings":"","what":"Focus charts","title":"Cookbook","text":"","code":"bar_data |>   ggplot(     aes(x = reorder(country, -lifeExp), y = lifeExp,         fill = country == \"Sweden\")   ) +   geom_col() +   theme_af(legend = \"none\") +   scale_y_continuous(expand = c(0, 0)) +   scale_fill_discrete_af(\"focus\", reverse = TRUE) +   labs(     x = NULL,     y = NULL,     title = \"Sweden has the fourth highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"interactive-charts","dir":"Articles","previous_headings":"","what":"Interactive charts","title":"Cookbook","text":"make ggplot2 chart interactive, use ggplotly() plotly package. Note however ggplotly() number ‘quirks’, including following: afcharts uses ‘sans’ font family, however plotly recognise font. work around add call theme set font family text \"\". Subtitles captions supported ggplotly(). stated elsewhere guidance, titles subtitles ideally included body text surrounding chart rather embedded chart , hopefully big issue. example therefore title, subtitle caption. afcharts currently works ggplot2 charts, however plans develop package support interactive Highcharts produced using highcharter package.","code":"p <-   bar_data |>   # Format text for tooltips   mutate(tooltip = paste0(     \"Country: \", country, \"\\n\",     \"Life Expectancy: \", round(lifeExp, 1)   )) |>   ggplot(aes(x = reorder(country, -lifeExp), y = lifeExp, text = tooltip)) +   geom_col(fill = af_colour_values[\"dark-blue\"]) +   theme_af(ticks = \"x\") +   theme(text = element_text(family = \"\")) +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = NULL   )  plotly::ggplotly(p, tooltip = \"text\") |>   plotly::config(     modeBarButtons = list(list(\"resetViews\")),     displaylogo = FALSE   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"annotations","dir":"Articles","previous_headings":"","what":"Annotations","title":"Cookbook","text":"Labelling chart often preferable using legend, often relies user matching legend data using colour alone. legend can removed chart setting legend = \"none\" theme_af(). easiest way add annotation manually define co-ordinates required position.  However, makes code difficult reuse values hard coded automatically generated data. Automating position annotations possible, fiddly. following examples use geom_label() use values data position annotations. geom_label() draws rectangle behind text (white default) border colour text (label_size = NA can used remove border). geom_text() also option annotations, include background can harder text read overlaps chart elements. functions also nudge arguments can used displace text improve positioning. Note previous examples, annotate() also requires geom (label text). operate way geom_label() geom_text(), discussed, annotate() able deal fixed values.  Annotations may also used add value labels bar chart. Note geom_text() used background required.  Note: annotate() function used add annotations manually defined positioning co-ordinates, whereas geom_label() geom_text() used using co-ordinates defined data frame. Although reverse may work, text can appear blurry.","code":"ann_data <- gapminder |>   filter(country %in% c(\"United Kingdom\", \"China\")) ann_data |>   ggplot(aes(x = year, y = lifeExp, colour = country)) +   geom_line(linewidth = 1) +   theme_af(legend = \"none\") +   scale_colour_discrete_af() +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(limits = c(1952, 2017),                      breaks = seq(1952, 2017, 5)) +   annotate(geom = \"label\", x = 2008, y = 73, label = \"China\",            colour = af_colour_values[1],            label.size = NA,            hjust = 0, vjust = 0.5) +   annotate(geom = \"label\", x = 2008, y = 79.4, label = \"United Kingdom\",            colour = af_colour_values[2],            label.size = NA,            hjust = 0, vjust = 0.5) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom and China 1952-2007\",     caption = \"Source: Gapminder\"   ) ann_labs <- ann_data |>   group_by(country) |>   mutate(min_year = min(year)) |>   filter(year == max(year)) |>   ungroup()  ann_data |>   ggplot(aes(x = year, y = lifeExp, colour = country)) +   geom_line(linewidth = 1) +   theme_af(legend = \"none\") +   scale_colour_discrete_af() +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(limits = c(1952, 2017),                      breaks = seq(1952, 2017, 5)) +   geom_label(data = ann_labs,              aes(x = year, y = lifeExp, label = country, colour = country),              hjust = 0,              vjust = 0.5,              nudge_x = 0.5,              label.size = NA) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom and China 1952-2007\",     caption = \"Source: Gapminder\"   ) ggplot(bar_data, aes(x = reorder(country, -lifeExp), y = lifeExp)) +   geom_col(fill = af_colour_values[\"dark-blue\"]) +   geom_text(aes(label = round(lifeExp, 1)),             nudge_y = -5, colour = \"white\") +   theme_af() +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = NULL,     title = \"Iceland has the highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"other-customisations","dir":"Articles","previous_headings":"","what":"Other customisations","title":"Cookbook","text":"theme_af() arguments control legend position appearance grid lines, axis lines axis ticks. information accepted values can found help file.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"sorting-a-bar-chart","dir":"Articles","previous_headings":"Other customisations","what":"Sorting a bar chart","title":"Cookbook","text":"control order bars chart, wrap variable want arrange reorder() specify variable want sort . following example sorts bars ascending order life expectancy. sort descending order, change reorder(country, desc(lifeExp)).  Examples following sections build chart.","code":"bar_data |>   ggplot(aes(x = lifeExp, y = reorder(country, lifeExp))) +   geom_col(fill = af_colour_values[\"dark-blue\"]) +   theme_af(axis = \"y\", grid = \"x\")"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"changing-chart-titles","dir":"Articles","previous_headings":"Other customisations","what":"Changing chart titles","title":"Cookbook","text":"Chart titles main title, subtitle, caption, axis titles legend titles, can controlled using labs(). title can removed using NULL.","code":"last_plot() +   labs(     x = NULL,     y = NULL,     title = \"Iceland has the highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"reducing-space-between-chart-and-axis","dir":"Articles","previous_headings":"Other customisations","what":"Reducing space between chart and axis","title":"Cookbook","text":"default, bar chart gap bottom bars axis. can removed follows:  equivalent adjustment can made y axis using scale_y_continuous.","code":"last_plot() + scale_x_continuous(expand = c(0, 0))"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"changing-axis-limits-breaks-and-labels","dir":"Articles","previous_headings":"Other customisations","what":"Changing axis limits, breaks and labels","title":"Cookbook","text":"Axis limits, breaks labels continuous variables can controlled using scale_x/y_continuous(). discrete variables, labels can changes using scale_x/y_discrete() alternatively recoding variable data creating chart.  Note calls scale_x/y_continuous overwrite previous calls, hence expand = c(0, 0) included example.","code":"last_plot() +   scale_x_continuous(expand = c(0, 0),                      limits = c(0, 85),                      breaks = seq(0, 80, 20),                      labels = c(seq(0, 70, 20), \"80 years\"))"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"formatting-labels","dir":"Articles","previous_headings":"Other customisations","what":"Formatting labels","title":"Cookbook","text":"Formatting axis labels legend labels easily handled using scales package. following example formats y axis labels percentages, however scales can also handle currency thousands separators.","code":"stacked_bar_data |>   ggplot(aes(x = continent, y = n_countries, fill = lifeExpGrouped)) +   geom_bar(stat = \"identity\", position = \"fill\") +   theme_af(legend = \"bottom\") +   scale_y_continuous(expand = c(0, 0), labels = scales::percent) +   scale_fill_discrete_af() +   labs(     x = NULL,     y = NULL,     fill = \"Life Expectancy\",     title = \"How life expectancy varies across continents\",     subtitle = \"Percentage of countries by life expectancy band, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"avoiding-axisgrid-lines-being-cut-off","dir":"Articles","previous_headings":"Other customisations","what":"Avoiding axis/grid lines being cut off","title":"Cookbook","text":"Axis lines grid lines can sometimes appear ‘cut ’ drawn limits chart range. can see example previous section top grid line slightly narrower adjacent tick mark y axis. y axis limit 100%. grid line centred 100%, top half line ‘cut ’. can corrected follows:","code":"last_plot() + coord_cartesian(clip = \"off\")"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"adding-a-line","dir":"Articles","previous_headings":"Other customisations","what":"Adding a line","title":"Cookbook","text":"add horizontal vertical line across whole plot, use geom_hline() geom_vline(). can useful highlight threshold average level.","code":"gapminder |>   filter(country == \"United Kingdom\") |>   ggplot(aes(x = year, y = lifeExp)) +   geom_line(linewidth = 1, colour = af_colour_values[1]) +   geom_hline(yintercept = 75, colour = af_colour_values[2],              linewidth = 1, linetype = \"dashed\") +   annotate(geom = \"text\", x = 2007, y = 70, label = \"Age 70\") +   theme_af() +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(breaks = seq(1952, 2007, 5)) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom 1952-2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"wrapping-text","dir":"Articles","previous_headings":"Other customisations","what":"Wrapping text","title":"Cookbook","text":"text long, may cut distort dimensions chart.  two suggested ways solve issue; Insert \\n within string force line break; Use stringr::str_wrap() set maximum character width string. See examples methods follows:","code":"plot <-   ggplot(bar_data, aes(x = reorder(country, -lifeExp), y = lifeExp)) +   geom_col(fill = af_colour_values[\"dark-blue\"]) +   theme_af() +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )  plot +   labs(     y = \"Percentage of countries\",     title = paste(\"Iceland has the highest life expectancy in Europe\",                   \"followed closely by Switzerland\")   ) plot +   labs(     y = \"Percentage\\nof countries\",     title = stringr::str_wrap(       paste(\"Iceland has the highest life expectancy in Europe\",             \"followed closely by Switzerland\"),       width = 50     )   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"adjusting-theme-elements","dir":"Articles","previous_headings":"Other customisations","what":"Adjusting theme elements","title":"Cookbook","text":"find need adjust theme elements chart, can done using theme(). Note done call theme_af(), otherwise theme_af() may overwrite specifications ’ve made.","code":"ggplot(bar_data, aes(x = reorder(country, -lifeExp), y = lifeExp)) +   geom_col(fill = af_colour_values[\"dark-blue\"]) +   theme_af(axis = \"xy\") +   theme(axis.line = element_line(colour = \"black\"),         axis.ticks = element_line(colour = \"black\")) +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = NULL,     title = \"Iceland has the highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"using-different-colour-palettes","dir":"Articles","previous_headings":"","what":"Using different colour palettes","title":"Cookbook","text":"afcharts provides colour palettes set Government Analysis Function suggested colour palettes. palettes developed meet Web Content Accessibility Guidelines 2.1 graphical objects. main palette default discrete colour/fill functions, sequential palette continuous colour/fill functions. information colours used afcharts can found vignette(\"colours\").","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"using-afcharts-colour-palettes","dir":"Articles","previous_headings":"Using different colour palettes","what":"Using afcharts colour palettes","title":"Cookbook","text":"full list available palettes can found running afcharts::af_colour_palettes. example, use Analysis Function main2 palette:","code":"gapminder |>   filter(country %in% c(\"United Kingdom\", \"China\")) |>   ggplot(aes(x = year, y = lifeExp, colour = country)) +   geom_line(linewidth = 1) +   theme_af(legend = \"bottom\") +   scale_colour_discrete_af(\"main2\") +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(breaks = seq(1952, 2007, 5)) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom and China 1952-2007\",     caption = \"Source: Gapminder\",     colour = NULL   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"using-your-own-colour-palette","dir":"Articles","previous_headings":"Using different colour palettes","what":"Using your own colour palette","title":"Cookbook","text":"may instances ’d like use colour palette available afcharts. , carefully considered ensure meets accessibility requirements. Government Analysis Function guidance outlines appropriate steps choosing accessibile colour palette used.","code":"my_palette <- c(\"#0F820D\", \"#000000\")  gapminder |>   filter(country == \"United Kingdom\") |>   ggplot(aes(x = year, y = lifeExp)) +   geom_line(linewidth = 1, colour = my_palette[1]) +   theme_af() +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(breaks = seq(1952, 2007, 5)) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom 1952-2007\",     caption = \"Source: Gapminder\"   ) gapminder |>   filter(country %in% c(\"United Kingdom\", \"China\")) |>   ggplot(aes(x = year, y = lifeExp, colour = country)) +   geom_line(linewidth = 1) +   theme_af(legend = \"bottom\") +   scale_colour_manual(values = my_palette) +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(breaks = seq(1952, 2007, 5)) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom and China 1952-2007\",     caption = \"Source: Gapminder\",     colour = NULL   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"adding-a-new-colour-palette-to-afcharts","dir":"Articles","previous_headings":"Using different colour palettes > Using your own colour palette","what":"Adding a new colour palette to afcharts","title":"Cookbook","text":"use different palette regularly feel useful added afcharts, please make suggestion per contributing guidance.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/cookbook.html","id":"acknowledgments","dir":"Articles","previous_headings":"","what":"Acknowledgments","title":"Cookbook","text":"afcharts package based sgplot package, written Alice Hannah. cookbook examples contains inspired BBC Visual Data Journalism cookbook R graphics bbplot package.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/saving.html","id":"file-format","dir":"Articles","previous_headings":"","what":"File format","title":"Saving charts","text":"best format save images charts Scalable Vector Graphic (SVG) format. SVG files retain quality regardless size viewed . means SVG images accessible image formats JPG PNG. can find example chart image SVG, JPEG PNG format GOV.UK. use SVG image, JPG PNG image acceptable.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/saving.html","id":"size-and-dimensions","dir":"Articles","previous_headings":"","what":"Size and dimensions","title":"Saving charts","text":"chart follow flow content surrounding . roughly width text image. dimensions chart depend plan use . example, ’re using page-based document Microsoft Word, like include landscape image A4 portrait page, width 159 mm height 100 mm works well. using SVG file format, actual saved image dimensions exactly specified. However, using JPG PNG formats, may . file formats also influenced DPI (dots per inch). DPI measure resolution image; higher DPI, crisp good quality image . another good reason use SVG formats, however limited JPG PNG, may take trial error find correct combination width, height DPI.","code":""},{"path":[]},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/saving.html","id":"standalone-image-file","dir":"Articles","previous_headings":"Examples","what":"Standalone image file","title":"Saving charts","text":"ggsave() function ggplot2 can used save standalone image file. specify SVG file format, simply ensure file name ends .svg. following example uses recommended dimensions previous section. JPG PNG image, also consider DPI value. ggsave, can supplied numerical value, string input. best quality, use “retina”.","code":"ggsave(myplot, filename = \"example-plot.svg\",        width = 159, height = 100, units = \"mm\") ggsave(myplot, filename = \"example-plot.png\",        width = 159, height = 100, units = \"mm\", dpi = \"retina\")"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/saving.html","id":"r-markdown","dir":"Articles","previous_headings":"Examples","what":"R Markdown","title":"Saving charts","text":"charts R Markdown document, file format, dimensions settings can set code chunk options. Format: Set dev = \"svg\", otherwise default format png used. Dimensions: Set fig.height fig.width. HTML outputs, default figure dimensions often suitable, however knitting Microsoft Word, default dimensions often result small image best specify R Markdown code chunk. Note R Markdown requires figure dimensions inches. ’d rather use millimetres, use mm_to_inch helper function afcharts. Alt Text: HTML outputs, use fig.alt, Microsoft Word outputs, fig.cap. Note default, value given fig.cap shown chart. ’d rather turn , can control R Markdown YAML header: Set options code chunk header: can sometimes make code easier read specifying chunk options within chunk: like images format, usually easier set options globally first code chunk document: Note afcharts must loaded setting global options, otherwise need specify package calling mm_to_inch; e.g. afcharts::mm_to_inch(). may cases ’d like charts SVG format, different dimensions. case can set dev = \"svg\" global options fig.width fig.height code chunk separately.","code":"output:    word_document:    fig_caption: no ```{r plot1, dev = \"svg\", fig.width = mm_to_inch(159), fig.height = mm_to_inch(100), fig.alt = \"A description of plot1\"} plot1 ``` ```{r plot1} #| dev = \"svg\" #| fig.width = mm_to_inch(159) #| fig.height = mm_to_inch(100) #| fig.alt = \"A description of plot1\"  plot1 ``` ```{r setup, include = FALSE} knitr::opts_chunk$set(   dev = \"svg\",   fig.width = mm_to_inch(159),    fig.height = mm_to_inch(100) ) ```"},{"path":"https://best-practice-and-impact.github.io/afcharts/articles/saving.html","id":"knitting-to-microsoft-word","dir":"Articles","previous_headings":"Examples > R Markdown","what":"Knitting to Microsoft Word","title":"Saving charts","text":"may receive warning message referring rsvg-convert knitting R Markdown document containing SVG images Microsoft Word. can safely ignored. possible centre charts images knitting Microsoft Word. workaround use Word style template document.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Government Analysis Function  Email Analysis Functiont>  Analysis Function GitHub profile>. Copyright holder, funder. Alice Hannah  Email Alice Hannah>  Alice Hannah GitHub profile>. Author. Olivia Box Power  Email Olivia Box Power>  Olivia Box Power GitHub profile>. Maintainer.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Hannah (2024). afcharts: Graphic Styles Colours Government Analysis Function. R package version 0.0.0.9000 https://github.com/best-practice--impact/afcharts https://best-practice--impact.github.io/afcharts, https://github.com/best-practice--impact/afcharts  https://best-practice--impact.github.io/afcharts.","code":"@Manual{,   title = {afcharts: Graphic Styles and Colours for Government Analysis Function},   author = {Alice Hannah},   year = {2024},   note = {R package version 0.0.0.9000   https://github.com/best-practice-and-impact/afcharts   https://best-practice-and-impact.github.io/afcharts},   url = {https://github.com/best-practice-and-impact/afcharts   https://best-practice-and-impact.github.io/afcharts}, }"},{"path":"https://best-practice-and-impact.github.io/afcharts/index.html","id":"afcharts-","dir":"","previous_headings":"","what":"Graphic Styles and Colours for Government Analysis Function","title":"Graphic Styles and Colours for Government Analysis Function","text":"afcharts R package creating accessible plots Government Analysis Function. Currently, functions available styling ggplot2 plots. package developed using Government Analysis Function Data Visualisation guidance. afcharts used conjunction guidance documents. information package functions can found afcharts website. particular, cookbook contains lots examples.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Graphic Styles and Colours for Government Analysis Function","text":"afcharts can installed directly GitHub.","code":"remotes::install_github(   \"best-practice-and-impact/afcharts\",   upgrade = \"never\",   build_vignettes = TRUE )"},{"path":"https://best-practice-and-impact.github.io/afcharts/index.html","id":"getting-started","dir":"","previous_headings":"","what":"Getting Started","title":"Graphic Styles and Colours for Government Analysis Function","text":"installed, afcharts can loaded using library() function: Help files function package can found References page package website. Alternatively, type ?function_name RStudio console. example:","code":"library(afcharts) ?theme_af()"},{"path":"https://best-practice-and-impact.github.io/afcharts/index.html","id":"use-afcharts-as-default","dir":"","previous_headings":"Getting Started","what":"Use afcharts as default","title":"Graphic Styles and Colours for Government Analysis Function","text":"easiest way use afcharts adding use_afcharts() beginning R script, Rmarkdown document Shiny app code. function set number defaults ggplot2 geoms, use afcharts colour palettes use theme_af().","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/index.html","id":"example-1-plot-with-one-colour-using-ggplot2-defaults","dir":"","previous_headings":"Getting Started > Use afcharts as default","what":"Example 1: Plot with one colour using ggplot2 defaults","title":"Graphic Styles and Colours for Government Analysis Function","text":"","code":"library(ggplot2) library(dplyr) library(gapminder) library(afcharts)  gapminder |>    filter(year == 2007 & continent == \"Europe\") |>   slice_max(order_by = lifeExp, n = 5) |>   ggplot() +   geom_col(aes(x = reorder(country, -lifeExp), y = lifeExp)) +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = NULL,     title = \"Iceland has the highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/index.html","id":"example-2-plot-with-one-colour-using-afcharts-defaults","dir":"","previous_headings":"Getting Started > Use afcharts as default","what":"Example 2: Plot with one colour using afcharts defaults","title":"Graphic Styles and Colours for Government Analysis Function","text":"Note use titles, subtitles captions  Titles, subtitles captions embedded example charts demonstration purposes. However, accessibility reasons, usually preferable provide titles body page rather embedded within image plot. information available accessibility article.","code":"afcharts::use_afcharts()  gapminder |>    filter(year == 2007 & continent == \"Europe\") |>   slice_max(order_by = lifeExp, n = 5) |>   ggplot() +   geom_col(aes(x = reorder(country, -lifeExp), y = lifeExp)) +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = NULL,     title = \"Iceland has the highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://best-practice-and-impact.github.io/afcharts/index.html","id":"acknowledgments","dir":"","previous_headings":"","what":"Acknowledgments","title":"Graphic Styles and Colours for Government Analysis Function","text":"afcharts package based sgplot package, written Alice Hannah.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/index.html","id":"licence","dir":"","previous_headings":"","what":"Licence","title":"Graphic Styles and Colours for Government Analysis Function","text":"Unless stated otherwise, codebase released MIT License. covers codebase sample code documentation. documentation © Crown copyright available terms Open Government 3.0 licence.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/af_colour_palettes.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis Function colour palettes — af_colour_palettes","title":"Analysis Function colour palettes — af_colour_palettes","text":"list grouping colours palettes.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/af_colour_palettes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis Function colour palettes — af_colour_palettes","text":"","code":"af_colour_palettes"},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/af_colour_palettes.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Analysis Function colour palettes — af_colour_palettes","text":"character list","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/af_colour_palettes.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Analysis Function colour palettes — af_colour_palettes","text":"Government Analysis Function Colours Guidance","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/af_colour_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis Function colour names and hex codes — af_colour_values","title":"Analysis Function colour names and hex codes — af_colour_values","text":"vector containing colour names corresponding hex code.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/af_colour_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis Function colour names and hex codes — af_colour_values","text":"","code":"af_colour_values"},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/af_colour_values.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Analysis Function colour names and hex codes — af_colour_values","text":"character vector","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/af_colour_values.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Analysis Function colour names and hex codes — af_colour_values","text":"Government Analysis Function Colours Guidance","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/afcharts-package.html","id":null,"dir":"Reference","previous_headings":"","what":"afcharts: Graphic Styles and Colours for Government Analysis Function — afcharts-package","title":"afcharts: Graphic Styles and Colours for Government Analysis Function — afcharts-package","text":"Standard ggplot theme colour palettes use Government Analysis Function.","code":""},{"path":[]},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/afcharts-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"afcharts: Graphic Styles and Colours for Government Analysis Function — afcharts-package","text":"Maintainer: Olivia Box Power Olivia.BoxPower@dhsc.gov.uk Authors: Alice Hannah alice.hannah@gov.scot contributors: Government Analysis Function Analysis.Function@ons.gov.uk [copyright holder, funder]","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/mm_to_inch.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert millimetres to inches — mm_to_inch","title":"Convert millimetres to inches — mm_to_inch","text":"Convert millimetres inches","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/mm_to_inch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert millimetres to inches — mm_to_inch","text":"","code":"mm_to_inch(x)"},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/mm_to_inch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert millimetres to inches — mm_to_inch","text":"x Numeric value millimetres","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/mm_to_inch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert millimetres to inches — mm_to_inch","text":"numerical value inches","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/mm_to_inch.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert millimetres to inches — mm_to_inch","text":"","code":"mm_to_inch(100) #> [1] 3.937008"},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_colour_continuous_af.html","id":null,"dir":"Reference","previous_headings":"","what":"Continuous colour scales for Analysis Function plots — scale_colour_continuous_af","title":"Continuous colour scales for Analysis Function plots — scale_colour_continuous_af","text":"Continuous colour scales Analysis Function plots","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_colour_continuous_af.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Continuous colour scales for Analysis Function plots — scale_colour_continuous_af","text":"","code":"scale_colour_continuous_af(   palette = \"sequential\",   palette_type = c(\"af\"),   reverse = FALSE,   na_colour = \"grey50\",   guide = \"colourbar\",   ... )"},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_colour_continuous_af.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Continuous colour scales for Analysis Function plots — scale_colour_continuous_af","text":"palette Name palette use; e.g. \"main\", \"sequential\", \"focus\". Default value \"sequential\". palette_type Currently Analysis Function palettes supported. Defaults \"af\". reverse Boolean value indicate whether palette reversed. na_colour Colour set missing values. guide name function used create guide. Default \"colourbar\". ... Additional arguments passed scale type.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_colour_continuous_af.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Continuous colour scales for Analysis Function plots — scale_colour_continuous_af","text":"","code":"library(ggplot2)  ggplot(mtcars, aes(x = mpg, y = wt, colour = cyl)) +   geom_point() +   scale_colour_continuous_af()"},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_colour_discrete_af.html","id":null,"dir":"Reference","previous_headings":"","what":"Discrete colour scales for Analysis Function plots — scale_colour_discrete_af","title":"Discrete colour scales for Analysis Function plots — scale_colour_discrete_af","text":"Discrete colour scales Analysis Function plots","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_colour_discrete_af.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Discrete colour scales for Analysis Function plots — scale_colour_discrete_af","text":"","code":"scale_colour_discrete_af(   palette = \"main\",   palette_type = c(\"af\"),   reverse = FALSE,   ... )"},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_colour_discrete_af.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Discrete colour scales for Analysis Function plots — scale_colour_discrete_af","text":"palette Name palette use; e.g. \"main\", \"sequential\", \"focus.\" Default value \"main\". palette_type Currently Analysis Function palettes supported. Defaults \"af\". reverse Boolean value indicate whether palette reversed. ... Additional arguments passed scale type.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_colour_discrete_af.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Discrete colour scales for Analysis Function plots — scale_colour_discrete_af","text":"","code":"library(ggplot2) library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union  economics_long %>%   filter(variable %in% c(\"psavert\", \"uempmed\")) %>%   ggplot(aes(x = date, y = value, colour = variable)) +   geom_line(linewidth = 1) +   scale_colour_discrete_af() #> Warning: ! Using `main2` as only two colours are required."},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_fill_continuous_af.html","id":null,"dir":"Reference","previous_headings":"","what":"Continuous colour fill scales for Analysis Function plots — scale_fill_continuous_af","title":"Continuous colour fill scales for Analysis Function plots — scale_fill_continuous_af","text":"Continuous colour fill scales Analysis Function plots","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_fill_continuous_af.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Continuous colour fill scales for Analysis Function plots — scale_fill_continuous_af","text":"","code":"scale_fill_continuous_af(   palette = \"sequential\",   palette_type = c(\"af\"),   reverse = FALSE,   na_colour = \"grey50\",   guide = \"colourbar\",   ... )"},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_fill_continuous_af.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Continuous colour fill scales for Analysis Function plots — scale_fill_continuous_af","text":"palette Name palette use; e.g. \"main\", \"sequential\", \"focus.\" Default value \"sequential\". palette_type Currently Analysis Function palettes supported. Defaults \"af\". reverse Boolean value indicate whether palette reversed. na_colour Colour set missing values. guide name function used create guide. Default \"colourbar\". ... Additional arguments passed scale type.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_fill_continuous_af.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Continuous colour fill scales for Analysis Function plots — scale_fill_continuous_af","text":"","code":"library(ggplot2)  ggplot(faithfuld, aes(x = waiting, y = eruptions, fill = density)) +   geom_raster() +   scale_fill_continuous_af()"},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_fill_discrete_af.html","id":null,"dir":"Reference","previous_headings":"","what":"Discrete colour fill scales for Analysis Function plots — scale_fill_discrete_af","title":"Discrete colour fill scales for Analysis Function plots — scale_fill_discrete_af","text":"Discrete colour fill scales Analysis Function plots","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_fill_discrete_af.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Discrete colour fill scales for Analysis Function plots — scale_fill_discrete_af","text":"","code":"scale_fill_discrete_af(   palette = \"main\",   palette_type = c(\"af\"),   reverse = FALSE,   ... )"},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_fill_discrete_af.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Discrete colour fill scales for Analysis Function plots — scale_fill_discrete_af","text":"palette Name palette use; e.g. \"main\", \"sequential\", \"focus.\" Default value \"main.\" palette_type Currently Analysis Function palettes supported. Defaults \"af\". reverse Boolean value indicate whether palette reversed. ... Additional arguments passed scale type.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/scale_fill_discrete_af.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Discrete colour fill scales for Analysis Function plots — scale_fill_discrete_af","text":"","code":"library(ggplot2)  d <- subset(mpg, manufacturer == \"ford\")  ggplot(d, aes(x = class, fill = class)) +  geom_bar() +  scale_fill_discrete_af()"},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/theme_af.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis Function theme for ggplot2 charts. — theme_af","title":"Analysis Function theme for ggplot2 charts. — theme_af","text":"ggplot2 theme Analysis Function plots.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/theme_af.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis Function theme for ggplot2 charts. — theme_af","text":"","code":"theme_af(   base_size = 12,   base_line_size = base_size/24,   base_rect_size = base_size/24,   grid = c(\"y\", \"x\", \"xy\", \"none\"),   axis = c(\"x\", \"y\", \"xy\", \"none\"),   ticks = c(\"xy\", \"x\", \"y\", \"none\"),   legend = c(\"right\", \"left\", \"top\", \"bottom\", \"none\") )"},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/theme_af.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analysis Function theme for ggplot2 charts. — theme_af","text":"base_size base font size, given pts. base_line_size base size line elements. base_rect_size base size rect elements. grid, axis, ticks 'x', 'y', 'xy' 'none' determine axes attribute drawn. Grid defaults 'y', axis 'x', ticks 'xy'. legend 'right', 'left', 'top', 'bottom', 'none' determine position legend. Defaults 'right'.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/theme_af.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analysis Function theme for ggplot2 charts. — theme_af","text":"","code":"library(ggplot2)  p <- ggplot(mpg, aes(x = class)) + geom_bar()  p  p + theme_af()"},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/use_afcharts.html","id":null,"dir":"Reference","previous_headings":"","what":"Use afcharts defaults. — use_afcharts","title":"Use afcharts defaults. — use_afcharts","text":"Set afcharts theme, colour palette geom aesthetic defaults ggplot2 charts.","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/use_afcharts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Use afcharts defaults. — use_afcharts","text":"","code":"use_afcharts(default_colour = af_colour_values[\"dark-blue\"], ...)"},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/use_afcharts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Use afcharts defaults. — use_afcharts","text":"default_colour Default colour/fill geoms. Default value 'blue' af_colour_values. ... Arguments passed theme_af().","code":""},{"path":"https://best-practice-and-impact.github.io/afcharts/reference/use_afcharts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Use afcharts defaults. — use_afcharts","text":"","code":"library(ggplot2)  d <- subset(mpg, manufacturer == \"ford\")  ggplot(d, aes(x = model)) + geom_bar()  ggplot(d, aes(x = model, fill = class)) + geom_bar()   use_afcharts() #> ℹ Default ggplot2 theme set to `theme_af`. #> ℹ Default colours set. #> ℹ Default geom aesthetics set.  ggplot(d, aes(x = model)) + geom_bar()  ggplot(d, aes(x = model, fill = class, colour = class)) + geom_bar() #> Warning: The `scale_name` argument of `discrete_scale()` is deprecated as of ggplot2 #> 3.5.0."},{"path":"https://best-practice-and-impact.github.io/afcharts/news/index.html","id":"afcharts-development-version","dir":"Changelog","previous_headings":"","what":"afcharts (development version)","title":"afcharts (development version)","text":"First release package based sgplot.","code":""}]
